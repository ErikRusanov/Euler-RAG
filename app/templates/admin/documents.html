{% extends "admin/layout.html" %}

{% block admin_content %}
<div class="filters-container">
    <button class="filters-toggle-btn" onclick="document.getElementById('filters-overlay').classList.toggle('active')">
        <svg class="btn-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z" />
        </svg>
        Filters
    </button>
    <div class="filters-bar-desktop">
        {% include "admin/components/filters.html" %}
    </div>
    <div id="filters-overlay" class="filters-overlay" onclick="event.target.classList.remove('active')">
        <div class="filters-overlay-content" onclick="event.stopPropagation()">
            <div class="filters-overlay-header">
                <h3>Filters</h3>
                <button class="filters-overlay-close" onclick="document.getElementById('filters-overlay').classList.remove('active')">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div class="filters-overlay-body">
                {% include "admin/components/filters.html" %}
            </div>
        </div>
    </div>
</div>

<div id="documents-content">
    {% if documents %}
        {% include "admin/components/document_table.html" %}
        {% include "admin/components/pagination.html" %}
    {% else %}
        {% set title = "No documents found" %}
        {% set message = "No documents match your current filters. Try adjusting your search criteria or upload a new document." %}
        {% set cta_text = "" %}
        {% set cta_url = "" %}
        {% include "admin/components/empty_state.html" %}
    {% endif %}
</div>

<!-- Hidden file input for document upload -->
<input type="file" id="document-upload-input" accept=".pdf" style="display: none;">

<!-- Floating Action Button for uploading documents -->
<button id="upload-fab" class="fab-button" onclick="document.getElementById('document-upload-input').click();" title="Upload Document">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
    </svg>
</button>

<!-- Loading Overlay -->
<div id="upload-loading-overlay" class="upload-loading-overlay" style="display: none;">
    <div class="upload-loading-spinner">
        <div class="spinner"></div>
        <p class="upload-loading-text">Uploading file...</p>
    </div>
</div>
{% endblock %}
